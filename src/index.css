@tailwind base;
@tailwind components;
@tailwind utilities;

/* optional: smoothing + a tiny helper */
html, body, #root { height: 100%; margin: 0; }
body { -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale; }
/* ————— Mobile-only fix pack (no component changes) ————— */
@media (max-width: 480px){

  /* 1) Never allow horizontal scrolling */
  html { overflow-x: clip; }          /* safer than hidden for fixed elements */
  body { overflow-x: hidden; }
  #root{ max-width: 100vw !important; padding: 0 !important; }

  /* 2) Make every content section respect the viewport width */
  section { width: 100%; }
  #letters, #memories, #wheel, #songs, #love { overflow-x: hidden; }

  /* 3) Prize Wheel: force it to fit the screen */
  #wheel canvas,
  #wheel svg {
    width: 100% !important;
    height: auto !important;
    max-width: 92vw !important;      /* keeps a little side gutter */
    display: block;
  }
  /* if the wheel is wrapped in a div with inline width/height, clamp that too */
  #wheel > div {
    max-width: 92vw !important;
    max-height: 92vw !important;
  }

  /* 4) Cards / glass panels: center & clamp (prevents tiny overflow from shadows) */
  .card,
  [class*="card"] {
    margin-left: auto;
    margin-right: auto;
    max-width: 92vw;
  }

  /* 5) Any grid inside Memories that was causing the overflow gets flexible cols */
  #memories [style*="grid-template-columns"] {
    grid-template-columns: repeat(auto-fit, minmax(140px, 1fr)) !important;
  }
  #memories * { min-width: 0; }      /* prevents text blocks from forcing width */

  /* 6) Embeds (Spotify, etc.) should be fluid */
  iframe { max-width: 100% !important; width: 100% !important; }

  /* 7) Fixed navbar and shadows shouldn’t extend beyond the viewport */
  header, nav { max-width: 100vw; overflow: clip; }
}
/* ====== HARD MOBILE / SMALL-WIDTH FIXES (no JS, no component changes) ====== */

/* 0) Kill horizontal scroll everywhere */
html { overflow-x: clip; }         /* better than hidden for fixed/blurred elems */
body, #root { overflow-x: hidden; max-width: 100vw; }
*, *::before, *::after { box-sizing: border-box; }

/* 1) Vite template leftovers can cause fake overflow */
#root { padding: 0 !important; max-width: 100vw !important; text-align: initial !important; }

/* 2) Images / canvases / SVGs never exceed the viewport */
img, video, canvas, svg, iframe { max-width: 100%; height: auto; display: block; }

/* 3) Glass cards & section containers: clamp to viewport (shadows can overflow) */
section, .container, .glass-card, .card {
  max-width: 100vw !important;
  margin-left: auto;
  margin-right: auto;
}
section > div { max-width: 100%; }

/* 4) **Photo Carousel**: arrows/pips sometimes push width by a few px */
[class*="carousel"] { max-width: 100%; overflow: hidden; } /* wrapper */
[class*="carousel"] button,
[class*="carousel"] [role="button"] {
  /* pull arrows inside so they don't extend beyond container */
  position: relative;
  inset: auto;
}
[class*="carousel"] .next,
[class*="carousel"] [aria-label*="Next"],
[class*="carousel"] [data-dir="next"] { right: 0 !important; }
[class*="carousel"] .prev,
[class*="carousel"] [aria-label*="Prev"],
[class*="carousel"] [data-dir="prev"] { left: 0 !important; }

/* 5) **Prize Wheel**: ensure the circle never makes the page wider */
#wheel, #wheel > div { max-width: 100vw !important; overflow: hidden; }
#wheel canvas, #wheel svg { width: 100% !important; height: auto !important; display: block; }

/* 6) **Memories**: any fixed grid becomes fluid and text can shrink/wrap */
#memories * { min-width: 0; } /* stop long text from forcing width */
#memories [style*="grid-template-columns"] {
  grid-template-columns: repeat(auto-fit, minmax(140px, 1fr)) !important;
}
#memories .stats, #memories .cards, #memories .grid {
  max-width: 100%; overflow: hidden;
}

/* 7) Fixed Navbar & header: clip blur/glow so it can't extend outside */
header, nav { max-width: 100vw; overflow: clip; }

/* 8) Tiny phones: reduce paddings/gaps a touch so nothing nudges the edge */
@media (max-width: 480px){
  section { padding-left: 12px !important; padding-right: 12px !important; }
  .glass-card, .card { max-width: 96vw; }
}
